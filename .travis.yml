language: cpp

sudo: required

dist: trusty

branches:
  only:
    - master
    - staging

compiler:
    - clang
    - gcc
    
before_script:
    - sudo add-apt-repository "deb http://archive.ubuntu.com/ubuntu $(lsb_release -sc) universe"
    - sudo apt-get update
    - sudo apt-get install libhdf5-serial-dev zlib1g-dev libsz2
    
install: true

script: ./scripts/run-tests.sh

notifications:
  slack: 
    rooms:
      - icb-dcm:PHyGJ38Zhp8HrwIxjZAwh9ZI#amici-dev
    on_success: change
